<template>
  <v-footer class="hidden-print-only" height="auto">
    <v-container>
      <v-row no-gutters>
        <v-col cols="auto">
          <v-card flat color="transparent">
            <v-card-text>
              <span>{{ $config.VERSION }}</span>
              <span v-if="$config.COMMIT">{{ shortHash($config.COMMIT) }}</span>
              <span v-if="$config.VERSION && $config.COMMIT">|</span>
              <nuxt-link :to="localePath('releases')">
                <span>Changelog</span>
              </nuxt-link>
              |
              <a
                href="https://stats.uptimerobot.com/X7JPPc4pLz"
                target="_blank"
                rel="noopener"
                >Status</a
              >
            </v-card-text>
          </v-card>
        </v-col>
        <v-spacer />
        <v-col cols="auto">
          <v-card flat color="transparent">
            <v-card-text>
              <span>This site is protected by reCAPTCHA and the Google</span>
              <a href="https://policies.google.com/privacy">Privacy Policy</a>
              <span>and</span>
              <a href="https://policies.google.com/terms">Terms of Service</a>
              <span>apply.</span>
            </v-card-text>
          </v-card>
        </v-col>
      </v-row>
      <v-row no-gutters>
        <v-col cols="auto">
          <v-card
            flat
            tile
            color="transparent"
            :href="`https://www.google.com.au/maps/search/?api=1&query=${encodeURIComponent(
              `${streetAddress || ''} ${city || ''} ${region || ''} ${
                postcode || ''
              } ${country || ''}`,
            )}`"
          >
            <v-card-text class="py-2">
              <font-awesome-icon
                :icon="faMapMarker"
                title="location"
                fixed-width
              />
              <span v-if="streetAddress" itemprop="streetAddress">{{
                streetAddress
              }}</span>
              <span v-if="city" itemprop="addressLocality">{{ city }}</span>
              <span v-show="!city" itemprop="addressRegion">{{ region }}</span>
              <span v-if="postcode" itemprop="postalCode">{{ postcode }}</span
              ><span
                >{{
                  (country || countryCode) && (postcode || city || region)
                    ? ','
                    : ''
                }}&nbsp;</span
              ><span itemprop="addressCountry">{{
                country || countryCode
              }}</span>
            </v-card-text>
          </v-card>
        </v-col>
        <v-spacer />
        <v-col cols="auto">
          <last-modified v-bind="{ utc }" />
        </v-col>
      </v-row>
    </v-container>
  </v-footer>
</template>

<script>
import { faMapMarker } from '@fortawesome/free-solid-svg-icons';
import lastModified from './last-modified';
export default {
  components: {
    lastModified,
  },
  data: () => ({
    utc: false,
    faMapMarker,
    streetAddress: 'Salt Space 1/888 Brunswick Street',
    city: 'New Farm',
    countryCode: 'AU',
    country: 'Australia',
    postcode: '4005',
    region: 'Queensland',
  }),
  methods: {
    shortHash: (value) => (value ? value.substring(0, 7) : null),
  },
};
</script>
